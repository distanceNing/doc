#### 可复用服务

对于落地一个共享服务来说，核心有以下两点：

##### 服务边界的划分

 * 服务边界确定了这个服务应该“做什么”
 * 服务包含了业务数据和业务规则，并提供接口给外部访问，其中，接口是服务的对外视图，它封装了服务的业务数据和规则。
 * 服务划分的原则
    * 服务的完整性原则
       * 内部数据的完整性
         	* 例子，一个商品服务的数据模型，不仅要有商品基本信息，比如商品名称、价格、分类、图片、描述等；还需要包含商品的扩展信息，如商品的各种属性、商品标签等；最后还要包含各种复杂商品类型的定义，比如组合商品、套餐商品、多规格商品等。
       * 服务功能的完整性
         	* 对于套餐的价格，商品服务是给出一个最终价格呢？还是给出各个单品的价格，然后让调用方自己算最终价格呢？我们知道，套餐的价格不是各个单品价格累加的结果，它包含了一定的优惠，如果它的价格由服务调用方来算，这会导致商品的部分业务规则游离于服务外面，破坏了商品服务的功能完整性。
   * 服务的一致性原则
     * 服务的数据和职责要一致，谁拥有信息，谁就负责提供相应的功能。
       * 订单小票的优惠信息。存储在订单中，但是由独立的促销服务负责的。因为优惠计算所需要的优惠规则是在促销服务里定义的，促销服务可以在内部拿到所有的优惠规则，然后完成整个优惠计算。
   * 正交原则
     * 既然是基础服务，它们就处于调用链的底层，服务之间不会有任何的调用关系，也就是说基础服务相互之间是正交的。比如说会员服务和商品服务，它们代表不同维度的基础业务域，彼此之间不会有调用关系。

##### 功能的抽象设计

	* 抽象设计确定了这个服务应该“怎么做”。

#### 架构复用层次

<img src="C:\Users\ninggyang\AppData\Roaming\Typora\typora-user-images\image-20200530114504161.png" alt="image-20200530114504161" style="zoom: 50%;" />